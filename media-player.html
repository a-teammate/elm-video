<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <title>Sample Media Player using HTML5's Media API</title>
    <link href='media-player.css' rel='stylesheet' />
  </head>
  <div id="main"></div>
  <script src="elm.js"></script>
  <script>
    var app = Elm.Main.fullscreen();

    var video = null;

    function initializeEvents() {

      video = document.getElementById("media-video");
      console.log("Initialized to " + video);

      var sendToElm = app.ports.videoEvents.send

      video.addEventListener("play", function() {
        console.log(e);
        sendToElm(["play"]);
      });
      video.addEventListener("pause", function(e) {
        console.log(e);
        sendToElm(["pause"]);
      });
      video.addEventListener("ended", function(e) {
        console.log(e);
        sendToElm(["ended"]);
      });
      video.addEventListener("timeupdate", function(e) {
        console.log(e);
        sendToElm(["timeupdate"]);
      });
    }

    setTimeout(initializeEvents, 500);
  </script>
</html>
